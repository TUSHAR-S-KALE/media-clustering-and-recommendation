<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Movie/TV Show Recommender</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <h1>Movie/TV Show Recommender</h1>

  <form id="searchForm">
    <div style="position: relative; display: inline-block;">
      <input type="text" id="title" placeholder="Enter Movie Title" required><br>
      <ul id="suggestions" class="suggestions-list"></ul>
    </div>

    <div class="filters">
      <div>
        <select id="genre">
          <option value="">Genre</option>
          {% for genre in genres %}
            <option value="{{ genre }}">{{ genre }}</option>
          {% endfor %}
        </select>
      </div>

      <div>
        <select id="year">
          <option value="">Release Year</option>
          {% for year in years %}
            <option value="{{ year }}">{{ year }}</option>
          {% endfor %}
        </select>
      </div>

      <div>
        <select id="type">
          <option value="">Type</option>
          {% for t in types %}
            <option value="{{ t }}">{{ t }}</option>
          {% endfor %}
        </select>
      </div>

      <div>
        <select id="age_group">
          <option value="">Age Group</option>
          {% for ag in age_groups %}
            <option value="{{ ag }}">{{ ag }}</option>
          {% endfor %}
        </select>
      </div>
    </div>

    <button type="submit"><span>Recommend</span></button>
  </form>

  <ul id="results"></ul>

  <footer style="text-align: center; margin: 40px 0 20px; color: #aaa; font-size: 0.9rem; font-family: Arial, sans-serif;">
    <p>
      Movie and TV Show images Â© 
      <a href="https://www.themoviedb.org/" target="_blank" rel="noopener noreferrer" style="color: #aaa; text-decoration: none; font-weight: bold;">
        TMDB
        <img src="https://www.themoviedb.org/assets/2/v4/logos/v2/blue_long_2-9665a76b1ae401a510ec1e0ca40ddcb3b0cfe45f1d51b77a308fea0845885648.svg" 
            alt="TMDB Logo" style="height: 20px; vertical-align: middle; margin-left: 6px;">
      </a>
    </p>
  </footer>

  <script>
    const TMDB_API_KEY = "{{ TMDB_API_KEY }}";
    const TMDB_BASE_URL = "{{ TMDB_BASE_URL }}";
    const TMDB_IMG_BASE = "{{ TMDB_IMG_BASE }}";
  </script>

  <!-- Linking external JavaScript file -->
  <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
